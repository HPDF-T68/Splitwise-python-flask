<!DOCTYPE html>

<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Login SPLITWISE</title>
  <!-- CORE CSS-->

  </head>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css">



<style type="text/css">
input[type=submit] {
    width:100%;
    padding:10px;

     width:200 !important;
    border: 2px ;
    border-radius: 4px;
}

html,
body {
    height: 120%;
}
div.in1 {
     display:table;
        margin-left: 500px;
         margin-top: 100px;
}
div .in2 {
display: table-cell;
    vertical-align: middle;
}
.margin {
  margin: 0 !important;
}
</style>


<body class="blue">

<title>Splitwise</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-green w3-wide w3-padding w3-card">
    <a href="https://app.octagon58.hasura-app.io/" class="w3-bar-item w3-button" ><b></b> S P L I T W I S E </a>
    <!-- Float links to the right. Hide them on small screens -->
    <div class="w3-right w3-hide-small">
      <a href="https://app.octagon58.hasura-app.io/login_form" class="w3-bar-item w3-button" >LOGIN</a>
      <a href="https://app.octagon58.hasura-app.io/register" class="w3-bar-item w3-button" >SIGNUP</a>

    </div>
  </div>
</div>
<div class="in1">
<div class="in2">

  <div id="login-page" class="row">
    <div class="col s12 z-depth-6 card-panel">
      <form class="login-form" action="https://app.octagon58.hasura-app.io/login_submit" method="POST">
        <div class="row">
          <div class="input-field col s12 center">

            <p class="center login-form-text">S P L I T WI S E - L O G I N</p>
          </div>
          {%with messages = get_flashed_messages() %}
          {% for message in messages %}
             <strong>  {{ message }} </strong>
               {% endfor %}
          {% endwith %}
        </div>
        <div class="row margin">
          <div class="input-field col s12">
            <i class="mdi-social-person-outline prefix"></i>
            <input name="username" id="username" type="text" class="validate_username" value="{{username}}"  required>
            <label for="username" class="center-align">Username</label>
          </div>
        </div>

        <div class="row margin">
          <div class="input-field col s12">
            <i class="mdi-action-lock-outline prefix"></i>
            <input name="password" id="password" type="password" class="validate" required>
            <label for="password">Password</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 m12 l12  login-text">
              <input type="checkbox" id="remember-me" />
              <label for="remember-me">Remember me</label>
          </div>
        </div>

        <br>
                 <input type="submit" value="Login">
        <div class="row">
          <div class="input-field col s6 m6 l6">
            <p class="margin medium-small"><a href="https://app.octagon58.hasura-app.io/register">Register Now!</a></p>
          </div>
          <div class="input-field col s6 m6 l6">
              <p class="margin right-align medium-small"><a href="#">Forgot password?</a></p>
          </div>
        </div>
        <!--<div class="row">
          <div class="input-field col s12">

          <input type="submit" Value="Register" class="btn waves-effect waves-light col s12"></a>
          </div>-->

    </form>
    </div>
  </div>




  <!-- ================================================
    Scripts
    ================================================ -->

  <!-- jQuery Library -->
 <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!--materialize js-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/js/materialize.min.js"></script>



  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27820211-3', 'auto');
  ga('send', 'pageview');
</script>
  <script>
function validateForm() {

      var fetchAction =  require('fetch');

var url = "https://data.octagon58.hasura-app.io/v1/query";

// If you have the auth token saved in offline storage
// var authToken = window.localStorage.getItem('HASURA_AUTH_TOKEN');
// headers = { "Authorization" : "Bearer " + authToken }
var requestOptions = {
    "method": "POST",
    "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer b660de1696fbdc8daa1d32d1d8f19bf03315ec407b9e2ebf"
    }
};

var body = {
    "type": "select",
    "args": {
        "table": "signup",
        "columns": [
            "*"
        ],
        "where": {
            "$or": [
                {
                    "username": {
                        "$eq": "asd"
                    }
                },
                {
                    "email": {}
                },
                {
                    "$or": [
                        {
                            "mobile": {
                                "$eq": "fff"
                            }
                        }
                    ]
                }
            ]
        }
    }
};

requestOptions.body = JSON.stringify(body);

fetchAction(url, requestOptions)
.then(function(response) {
	return response.json();
})
.then(function(result) {
	console.log(result);
})
.catch(function(error) {
	console.log('Request Failed:' + error);
});
    var x = document.forms["myForm"]["fname"].value;
    if (x == "") {
        alert("Name must be filled out");
        return false;
    }
}
</script>
</body>

</html>